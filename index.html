<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sorteio de Cartas</title>

<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

body {
    background-color: #ffffff;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow-x: hidden;
    position: relative;
}

body::before {
    content: "";
    position: absolute;
    inset: 0;
    background: url("logo.png") center/cover no-repeat;
    opacity: 0.15;
    z-index: -1;
}

/* CONTAINER */
.container {
    max-width: 900px;
    width: 95%;
    background: rgba(255,255,255,0.95);
    border-radius: 20px;
    padding: 30px;
    text-align: center;
    border: 2px solid #000;
    box-shadow: 0 10px 30px rgba(0,0,0,.15);
    overflow: visible; /* <<< IMPORTANTE */
}

/* TITULOS */
h1 {
    font-size: 2.4rem;
    margin-bottom: 10px;
}

.subtitle {
    color: #555;
    margin-bottom: 25px;
}

/* CARTAS */
.cards-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 15px;
    margin-bottom: 30px;
}

.card {
    width: 120px;
    height: 150px;
    background: #fff;
    border: 2px solid #000;
    border-radius: 10px;
    position: relative;
    cursor: pointer;
    z-index: 1;
    overflow: visible;
    transition: transform .2s ease, box-shadow .2s ease;
}

.card:hover {
    z-index: 999;
    transform: translateY(-6px);
    box-shadow: 0 10px 25px rgba(0,0,0,.25);
}

.card.selected {
    border-color: #FFD700;
    background: #FFF9C4;
}

.card-image {
    width: 100%;
    height: 100%;
    object-fit: contain;
    border-radius: 8px;
    transition: transform .3s ease;
    transform-origin: center center;
}

.card:hover .card-image {
    transform: scale(2.2);
}

.card-name {
    position: absolute;
    bottom: 5px;
    width: 100%;
    font-size: .75rem;
    background: rgba(255,255,255,.85);
    text-align: center;
}

/* RESULTADO */
.result-container {
    margin: 25px 0;
    padding: 20px;
    background: #f8f8f8;
    border-radius: 10px;
    border: 1px solid #ddd;
}

.result {
    font-size: 2rem;
    font-weight: bold;
}

.result.highlight {
    color: #FFD700;
    text-shadow: 0 0 10px rgba(255,215,0,.6);
}

.result-image {
    width: 180px;
    height: 225px;
    object-fit: contain;
    margin-top: 15px;
    border-radius: 10px;
    border: 2px solid #FFD700;
    cursor: pointer;
    transition: transform .3s ease;
}

.result-image:hover {
    transform: scale(1.05);
}

.history {
    margin-top: 10px;
    color: #666;
}

/* CONTROLES */
.controls {
    margin-top: 20px;
}

button {
    margin-top: 15px;
    padding: 15px 35px;
    font-size: 1.1rem;
    background: #000;
    color: #fff;
    border-radius: 50px;
    border: none;
    cursor: pointer;
    font-weight: bold;
    transition: all .3s ease;
}

button:hover {
    background: #333;
    transform: translateY(-3px);
}

/* MODAL */
.modal {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,.8);
    z-index: 2000;
    justify-content: center;
    align-items: center;
}

.modal-content {
    position: relative;
}

.modal-image {
    max-width: 90vw;
    max-height: 85vh;
    border-radius: 15px;
    border: 3px solid #FFD700;
}

.close-modal {
    position: absolute;
    top: -45px;
    right: 0;
    font-size: 2rem;
    background: none;
    color: #fff;
    border: none;
    cursor: pointer;
}
</style>
</head>

<body>

<div class="container">
    <h1>Sorteio de Cartas</h1>
    <p class="subtitle">Clique no botão para sortear uma carta</p>

    <div class="cards-container"></div>

    <div class="result-container">
        <div class="result" id="result">Clique em "Sortear"</div>
        <img id="resultImage" class="result-image" style="display:none">
        <div class="history" id="history"></div>
    </div>

    <div class="controls">
        <label>
            <input type="checkbox" id="noRepeat">
            Não repetir cartas
        </label><br>
        <button id="drawButton">Sortear Carta</button>
    </div>
</div>

<!-- MODAL -->
<div class="modal" id="imageModal">
    <div class="modal-content">
        <button class="close-modal" id="closeModal">&times;</button>
        <img class="modal-image" id="modalImage">
    </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {

const cardData = [
    {id:1,name:"Cartinha 01",image:"cartinha 01.png"},
    {id:2,name:"Cartinha 02",image:"cartinha 02.png"},
    {id:3,name:"Cartinha 03",image:"cartinha 03.png"},
    {id:4,name:"Cartinha 04",image:"cartinha 04.png"},
    {id:5,name:"Cartinha 05",image:"cartinha 05.png"},
    {id:6,name:"Cartinha 06",image:"cartinha 06.png"},
    {id:7,name:"Cartinha 07",image:"cartinha 07.png"},
    {id:8,name:"Cartinha 08",image:"cartinha 08.png"},
    {id:9,name:"Cartinha 09",image:"cartinha 09.png"},
    {id:10,name:"Cartinha 10",image:"cartinha 10.png"},
    {id:11,name:"Cartinha 11",image:"cartinha 11.png"},
    {id:12,name:"Cartinha 12",image:"cartinha 12.png"},
    {id:13,name:"Cartinha 13",image:"cartinha 13.png"},
    {id:14,name:"Cartinha 14",image:"cartinha 14.png"},
    {id:15,name:"Cartinha 15",image:"cartinha 15.png"},
    {id:16,name:"Cartinha 16",image:"cartinha 16.png"},
    {id:17,name:"Cartinha 17",image:"cartinha 17.png"}
];

let available = [...cardData];
let history = [];

const cardsContainer = document.querySelector(".cards-container");
const result = document.getElementById("result");
const resultImage = document.getElementById("resultImage");
const historyDiv = document.getElementById("history");
const modal = document.getElementById("imageModal");
const modalImage = document.getElementById("modalImage");

cardData.forEach(card => {
    const div = document.createElement("div");
    div.className = "card";
    div.dataset.id = card.id;
    div.innerHTML = `
        <img src="${card.image}" class="card-image">
        <div class="card-name">${card.name}</div>
    `;
    cardsContainer.appendChild(div);
});

document.getElementById("drawButton").onclick = () => {
    if(!available.length) available = [...cardData];

    const index = Math.floor(Math.random() * available.length);
    const drawn = available.splice(index,1)[0];

    document.querySelectorAll(".card").forEach(c => c.classList.remove("selected"));
    document.querySelector(`.card[data-id="${drawn.id}"]`).classList.add("selected");

    result.textContent = drawn.name;
    result.classList.add("highlight");

    resultImage.src = drawn.image;
    resultImage.style.display = "block";

    history.push(drawn.name);
    historyDiv.textContent = history.length > 1 ? "Histórico: " + history.slice(0,-1).join(", ") : "";
};

resultImage.onclick = () => {
    modalImage.src = resultImage.src;
    modal.style.display = "flex";
};

document.getElementById("closeModal").onclick = () => modal.style.display = "none";
modal.onclick = e => e.target === modal && (modal.style.display = "none");

});
</script>

</body>
</html>
